<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Product Store</title>
  <!-- React & ReactDOM -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- React Router DOM -->
  <script src="https://unpkg.com/react-router-dom@6/umd/react-router-dom.development.js"></script>
  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>

  <!-- Our React Code -->
  <script type="text/babel">
    const { useState, useEffect } = React;
    const { BrowserRouter, Routes, Route, Link, useParams } = ReactRouterDOM;

    // ðŸ”¹ Product List Component
    function ProductList() {
      const [products, setProducts] = useState([]);

      useEffect(() => {
        fetch("https://dummyjson.com/products")
          .then((res) => res.json())
          .then((data) => setProducts(data.products));
      }, []);

      return (
        <div>
          <h2>ðŸ›’ Product Store</h2>
          <ul>
            {products.map((p) => (
              <li key={p.id}>
                {p.title} - ðŸ’²{p.price}
                {" | "}
                <Link to={`/product/${p.id}`}>View</Link>
              </li>
            ))}
          </ul>
        </div>
      );
    }

    // ðŸ”¹ Product Detail Component
    function ProductDetail() {
      const { id } = useParams();
      const [product, setProduct] = useState(null);

      useEffect(() => {
        fetch(`https://dummyjson.com/products/${id}`)
          .then((res) => res.json())
          .then((data) => setProduct(data));
      }, [id]);

      if (!product) return <h3>Loading...</h3>;

      return (
        <div>
          <h2>{product.title}</h2>
          <img src={product.thumbnail} width="200" />
          <p>ðŸ’² {product.price}</p>
          <p>{product.description}</p>
          <p>Category: {product.category}</p>
          <Link to="/">â¬… Back</Link>
        </div>
      );
    }

    // ðŸ”¹ App with Routes
    function App() {
      return (
        <BrowserRouter>
          <Routes>
            <Route path="/" element={<ProductList />} />
            <Route path="/product/:id" element={<ProductDetail />} />
          </Routes>
        </BrowserRouter>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App />);
  </script>
</body>
</html>
